{% extends "hotellapp/base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2 class="mb-0">Invoices</h2>
  <div class="text-muted small">Manage and print invoices. Click Edit to adjust header or items.</div>
</div>

<div class="card">
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-striped align-middle table-modern">
        <thead>
          <tr>
            <th>No.</th>
            <th>Date</th>
            <th>Client</th>
            <th class="text-end">Total</th>
            <th class="text-end">Payment</th>
            <th style="width: 160px;"></th>
          </tr>
        </thead>
        <tbody>
        {% for inv in invoices %}
          <tr>
            <td>{{ inv.series }}-{{ inv.number|default:inv.id }}</td>
            <td>{{ inv.issue_date }}</td>
            <td>{{ inv.client }}</td>
            <td class="text-end">{{ inv.total }} {{ inv.currency }}</td>
            <td class="text-end">{{ inv.get_payment_method_display|default:"â€”" }}</td>
            <td class="text-end">
              <a class="btn btn-sm btn-outline-primary" href="{% url 'invoice_detail' inv.pk %}"><i class="bi bi-eye"></i> View</a>
              <a class="btn btn-sm btn-primary" href="{% url 'invoice_edit' inv.pk %}"><i class="bi bi-pencil-square"></i> Edit</a>
            </td>
          </tr>
        {% empty %}
          <tr><td colspan="6" class="text-center text-muted">No invoices yet.</td></tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
